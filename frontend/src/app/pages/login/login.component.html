<div class="auth-container">
    <div class="auth-card">
        <h2 class="auth-title">{{ isLoginMode ? 'Iniciar Sesión' : 'Registro' }}</h2>

        <!-- Mensaje de error -->
        <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
        </div>

        <!-- Formulario de Login -->
        <form *ngIf="isLoginMode" [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">
            <div class="form-group">
                <label for="loginEmail">Correo Electrónico</label>
                <input type="email" id="loginEmail" formControlName="email" class="form-control"
                    [ngClass]="{'is-invalid': loginEmail?.invalid && loginEmail?.touched}">
                <div *ngIf="loginEmail?.invalid && loginEmail?.touched" class="error-text">
                    <div *ngIf="loginEmail?.errors?.['required']">El correo es requerido</div>
                    <div *ngIf="loginEmail?.errors?.['email']">Ingrese un correo válido</div>
                </div>
            </div>

            <div class="form-group">
                <label for="loginPassword">Contraseña</label>
                <input type="password" id="loginPassword" formControlName="password" class="form-control"
                    [ngClass]="{'is-invalid': loginPassword?.invalid && loginPassword?.touched}">
                <div *ngIf="loginPassword?.invalid && loginPassword?.touched" class="error-text">
                    <div *ngIf="loginPassword?.errors?.['required']">La contraseña es requerida</div>
                    <div *ngIf="loginPassword?.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres</div>
                </div>
            </div>

            <button type="submit" class="btn btn-primary" [disabled]="loginForm.invalid">
                Iniciar Sesión
            </button>
        </form>

        <!-- Formulario de Registro -->
        <form *ngIf="!isLoginMode" [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="auth-form">
            <div class="form-group">
                <label for="registerFullName">Nombre Completo</label>
                <input type="text" id="registerFullName" formControlName="fullName" class="form-control"
                    [ngClass]="{'is-invalid': registerFullName?.invalid && registerFullName?.touched}">
                <div *ngIf="registerFullName?.invalid && registerFullName?.touched" class="error-text">
                    <div *ngIf="registerFullName?.errors?.['required']">El nombre es requerido</div>
                    <div *ngIf="registerFullName?.errors?.['minlength']">El nombre debe tener al menos 3 caracteres</div>
                </div>
            </div>

            <div class="form-group">
                <label for="registerEmail">Correo Electrónico</label>
                <input type="email" id="registerEmail" formControlName="email" class="form-control"
                    [ngClass]="{'is-invalid': registerEmail?.invalid && registerEmail?.touched}">
                <div *ngIf="registerEmail?.invalid && registerEmail?.touched" class="error-text">
                    <div *ngIf="registerEmail?.errors?.['required']">El correo es requerido</div>
                    <div *ngIf="registerEmail?.errors?.['email']">Ingrese un correo válido</div>
                </div>
            </div>

            <div class="form-group">
                <label for="registerPassword">Contraseña</label>
                <input type="password" id="registerPassword" formControlName="password" class="form-control"
                    [ngClass]="{'is-invalid': registerPassword?.invalid && registerPassword?.touched}">
                <div *ngIf="registerPassword?.invalid && registerPassword?.touched" class="error-text">
                    <div *ngIf="registerPassword?.errors?.['required']">La contraseña es requerida</div>
                    <div *ngIf="registerPassword?.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres</div>
                </div>
            </div>

            <div class="form-group">
                <label for="registerConfirmPassword">Confirmar Contraseña</label>
                <input type="password" id="registerConfirmPassword" formControlName="confirmPassword"
                    class="form-control"
                    [ngClass]="{'is-invalid': registerConfirmPassword?.invalid && registerConfirmPassword?.touched}">
                <div *ngIf="registerConfirmPassword?.invalid && registerConfirmPassword?.touched" class="error-text">
                    <div *ngIf="registerConfirmPassword?.errors?.['required']">La confirmación de contraseña es requerida</div>
                </div>
                <div *ngIf="registerForm.errors?.['passwordMismatch'] && registerConfirmPassword?.touched" class="error-text">
                    Las contraseñas no coinciden
                </div>
            </div>

            <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid">
                Registrarse
            </button>
        </form>

        <!-- Botón para cambiar entre login y registro -->
        <div class="auth-toggle">
            <button class="btn btn-link" (click)="toggleMode()">
                {{ isLoginMode ? '¿No tienes cuenta? Regístrate' : '¿Ya tienes cuenta? Inicia sesión' }}
            </button>
        </div>
    </div>
</div>